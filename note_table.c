#include <stdio.h>
#include "bstr.h"
#include "note_table.h"

static note_t notes[] = {
        { "E0",		"E",	0,	0 },
        { "E1",		"F",	0,	1 },
        { "E2",		"F#",	0,	2 },
        { "E3",		"G",	0,	3 },
        { "E4",		"G#",	0,	4 },
        { "E5",		"A",	0,	5 },
        { "E6",		"A#",	0,	6 },
        { "E7",		"B",	0,	7 },
        { "E8",		"C",	0,	8 },
        { "E9",		"C#",	0,	9 },
        { "E10",	"D",	0,	10 },
        { "E11",	"D#",	0,	11 },
        { "E12",	"E",	0,	12 },
        { "E13",	"F",	0,	13 },
        { "E14",	"F#",	0,	14 },
        { "E15",	"G",	0,	15 },
        { "E16",	"G#",	0,	16 },
        { "E17",	"A",	0,	17 },
        { "E18",	"A#",	0,	18 },
        { "E19",	"B",	0,	19 },
        { "E20",	"C",	0,	20 },
        { "E21",	"C#",	0,	21 },

        { "A0",		"A",	1,	0 },
        { "A1",		"A#",	1,	1 },
        { "A2",		"B",	1,	2 },
        { "A3",		"C",	1,	3 },
        { "A4",		"C#",	1,	4 },
        { "A5",		"D",	1,	5 },
        { "A6",		"D#",	1,	6 },
        { "A7",		"E",	1,	7 },
        { "A8",		"F",	1,	8 },
        { "A9",		"F#",	1,	9 },
        { "A10",	"G",	1,	10 },
        { "A11",	"G#",	1,	11 },
        { "A12",	"A",	1,	12 },
        { "A13",	"A#",	1,	13 },
        { "A14",	"B",	1,	14 },
        { "A15",	"C",	1,	15 },
        { "A16",	"C#",	1,	16 },
        { "A17",	"D",	1,	17 },
        { "A18",	"D#",	1,	18 },
        { "A19",	"E",	1,	19 },
        { "A20",	"",	1,	20 },
        { "A21",	"",	1,	21 },

        { "D0",		"D",	2,	0 },
        { "D1",		"D#",	2,	1 },
        { "D2",		"E",	2,	2 },
        { "D3",		"F",	2,	3 },
        { "D4",		"F#",	2,	4 },
        { "D5",		"G",	2,	5 },
        { "D6",		"G#",	2,	6 },
        { "D7",		"A",	2,	7 },
        { "D8",		"A#",	2,	8 },
        { "D9",		"B",	2,	9 },
        { "D10",	"C",	2,	10 },
        { "D11",	"C#",	2,	11 },
        { "D12",	"D",	2,	12 },
        { "D13",	"D#",	2,	13 },
        { "D14",	"E",	2,	14 },
        { "D15",	"F",	2,	15 },
        { "D16",	"F#",	2,	16 },
        { "D17",	"G",	2,	17 },
        { "D18",	"G#",	2,	18 },
        { "D19",	"A",	2,	19 },
        { "D20",	"A#",	2,	20 },
        { "D21",	"B",	2,	21 },

        { "G0",		"G",	3,	0 },
        { "G1",		"G#",	3,	1 },
        { "G2",		"A",	3,	2 },
        { "G3",		"A#",	3,	3 },
        { "G4",		"B",	3,	4 },
        { "G5",		"C",	3,	5 },
        { "G6",		"C#",	3,	6 },
        { "G7",		"D",	3,	7 },
        { "G8",		"D#",	3,	8 },
        { "G9",		"E",	3,	9 },
        { "G10",	"F",	3,	10 },
        { "G11",	"F#",	3,	11 },
        { "G12",	"G",	3,	12 },
        { "G13",	"G#",	3,	13 },
        { "G14",	"A",	3,	14 },
        { "G15",	"A#",	3,	15 },
        { "G16",	"B",	3,	16 },
        { "G17",	"C",	3,	17 },
        { "G18",	"C#",	3,	18 },
        { "G19",	"D",	3,	19 },
        { "G20",	"D#",	3,	20 },
        { "G21",	"E",	3,	21 },

        { NULL }
};

note_t *
getnote(const char *fretbc)
{
	note_t	*note;

	if(xstrempty(fretbc))
		return NULL;

	for(note = notes; !xstrempty(note->no_fretb_code); ++note) {
		if(!xstrcasecmp(note->no_fretb_code, fretbc))
			return note;
	}

	return NULL;
}


